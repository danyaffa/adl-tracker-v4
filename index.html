<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADL Platform - Universal Ad Tracking & Analytics</title>
    <meta name="description" content="Professional ad tracking platform with real payment processing, fraud protection, and universal analytics across 25+ platforms">
    <meta name="keywords" content="ad tracking, analytics, universal tracking, campaign management, ROI tracking, fraud protection">
    <meta name="author" content="D & J LEFFLER">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' https:; script-src 'self' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:;">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ö°</text></svg>">
    
    <!-- Stripe Payment Processing -->
    <script src="https://js.stripe.com/v3/"></script>
    
    <!-- Core CSS Framework -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        * { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            padding-bottom: 120px; /* Space for fixed ads strip */
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            line-height: 1.6;
        }
        
        .modal { 
            display: none; 
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            backdrop-filter: blur(4px);
        }
        
        .modal.show { 
            display: flex !important; 
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .secure-payment {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.3);
        }
        
        .payment-input {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: #1f2937;
            padding: 16px 20px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .payment-input:focus {
            outline: none;
            border-color: #10b981;
            background: rgba(255, 255, 255, 1);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.2);
        }
        
        .ssl-badge {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 8px;
            padding: 12px 16px;
            color: #10b981;
            font-weight: 600;
        }
        
        .pricing-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
        
        .pricing-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
        }
        
        .pricing-card.popular::before {
            content: 'MOST POPULAR';
            position: absolute;
            top: 20px;
            right: -30px;
            background: #f59e0b;
            color: white;
            padding: 8px 40px;
            font-size: 12px;
            font-weight: bold;
            transform: rotate(45deg);
        }
        
        .campaign-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .campaign-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
        
        .status-active {
            background: linear-gradient(45deg, #10b981, #059669);
            color: white;
        }
        
        .status-paused {
            background: linear-gradient(45deg, #6b7280, #4b5563);
            color: white;
        }
        
        .adl-code {
            font-family: 'SF Mono', Monaco, monospace;
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #1e293b;
            word-break: break-all;
        }
        
        .fraud-protection {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            color: white;
            padding: 1rem;
            border-radius: 12px;
            margin: 1rem 0;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .prohibited-content {
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 8px;
            padding: 1rem;
            color: #dc2626;
            font-size: 14px;
        }
        
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: inherit;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #e5e7eb;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .pricing-card {
                padding: 1.5rem;
            }
            
            .campaign-card {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>

<!-- SECURE HEADER -->
<header class="bg-white border-b-2 border-blue-200 shadow-lg sticky top-0 z-40">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-4">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <img src="public/ADL_logo.png" alt="ADL Platform" class="w-16 h-16" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <div class="text-4xl" style="display: none;">‚ö°</div>
                <div>
                    <h1 class="text-2xl font-bold text-gray-900">ADL Platform</h1>
                    <p class="text-sm text-gray-600">Universal Ad Tracking & Analytics</p>
                </div>
            </div>
            
            <div class="flex items-center space-x-4">
                <div id="user-tier" class="px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-bold">
                    STARTER PLAN
                </div>
                <div class="text-sm text-gray-600" id="plan-limits">
                    Campaigns: <span id="campaign-count">0</span>/5
                </div>
                <div id="user-status" class="text-sm text-gray-500" style="display: none;">
                    üë§ <span id="user-name"></span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- MAIN DASHBOARD -->
<main class="max-w-7xl mx-auto px-4 sm:px-6 py-8">
    
    <!-- QUICK ACTIONS -->
    <div class="grid grid-cols-2 md:grid-cols-6 gap-4 mb-8">
        <button onclick="createCampaign()" class="bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-xl font-bold transition-all transform hover:scale-105">
            üöÄ Create Campaign
        </button>
        <button onclick="generateAIAd()" class="bg-purple-600 hover:bg-purple-700 text-white p-4 rounded-xl font-bold transition-all transform hover:scale-105">
            ü§ñ AI Generator
        </button>
        <button onclick="showInstructions()" class="bg-green-600 hover:bg-green-700 text-white p-4 rounded-xl font-bold transition-all transform hover:scale-105">
            üìö Instructions
        </button>
        <button onclick="showContact()" class="bg-cyan-600 hover:bg-cyan-700 text-white p-4 rounded-xl font-bold transition-all transform hover:scale-105">
            üìû Contact
        </button>
        <button onclick="showReview()" class="bg-yellow-600 hover:bg-yellow-700 text-white p-4 rounded-xl font-bold transition-all transform hover:scale-105">
            ‚≠ê Review
        </button>
        <button onclick="showUpgrade()" class="bg-gradient-to-r from-yellow-500 to-orange-500 hover:shadow-lg text-white p-4 rounded-xl font-bold transition-all transform hover:scale-105">
            ‚≠ê Upgrade Plan
        </button>
    </div>

    <!-- PERFORMANCE METRICS -->
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div class="bg-white p-6 rounded-xl border-2 border-blue-100 hover:shadow-lg transition-shadow">
            <div class="flex items-center justify-between mb-3">
                <span class="text-sm font-bold text-blue-600">TOTAL CLICKS</span>
                <span class="text-2xl">üëÜ</span>
            </div>
            <div id="total-clicks" class="text-3xl font-bold text-gray-900">0</div>
            <div class="text-sm text-gray-500 mt-1">Real-time tracking active</div>
        </div>
        
        <div class="bg-white p-6 rounded-xl border-2 border-green-100 hover:shadow-lg transition-shadow">
            <div class="flex items-center justify-between mb-3">
                <span class="text-sm font-bold text-green-600">CONVERSIONS</span>
                <span class="text-2xl">üéØ</span>
            </div>
            <div id="total-conversions" class="text-3xl font-bold text-gray-900">0</div>
            <div class="text-sm text-gray-500 mt-1">Cross-platform attribution</div>
        </div>
        
        <div class="bg-white p-6 rounded-xl border-2 border-yellow-100 hover:shadow-lg transition-shadow">
            <div class="flex items-center justify-between mb-3">
                <span class="text-sm font-bold text-yellow-600">REVENUE</span>
                <span class="text-2xl">üí∞</span>
            </div>
            <div id="total-revenue" class="text-3xl font-bold text-gray-900">$0</div>
            <div class="text-sm text-gray-500 mt-1">Revenue attribution</div>
        </div>
        
        <div class="bg-white p-6 rounded-xl border-2 border-purple-100 hover:shadow-lg transition-shadow">
            <div class="flex items-center justify-between mb-3">
                <span class="text-sm font-bold text-purple-600">ROAS</span>
                <span class="text-2xl">üìà</span>
            </div>
            <div id="total-roas" class="text-3xl font-bold text-gray-900">0.0x</div>
            <div class="text-sm text-gray-500 mt-1">Return on ad spend</div>
        </div>
    </div>

    <!-- CAMPAIGNS SECTION -->
    <div class="bg-white rounded-xl p-6 border-2 border-gray-100">
        <div class="flex justify-between items-center mb-6">
            <div>
                <h2 class="text-2xl font-bold text-gray-900">Active Campaigns</h2>
                <p class="text-gray-600">Universal tracking across all platforms</p>
            </div>
            <button onclick="refreshData()" class="bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors">
                üîÑ Refresh
            </button>
        </div>
        
        <div id="campaigns-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Empty state shown when no campaigns exist -->
            <div class="col-span-full text-center py-12">
                <div class="text-6xl mb-4">üöÄ</div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Ready to Launch Your First Campaign?</h3>
                <p class="text-gray-600 mb-6">Create your first campaign to start tracking across all platforms</p>
                <button onclick="createCampaign()" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-bold transition-colors">
                    üöÄ Create First Campaign
                </button>
                <div class="mt-6 text-sm text-gray-500 space-y-1">
                    <p>‚úÖ Universal tracking across 25+ platforms</p>
                    <p>‚úÖ Real-time analytics and reporting</p>
                    <p>‚úÖ Automatic fraud protection</p>
                </div>
            </div>
        </div>
    </div>

</main>

<!-- UPGRADE MODAL WITH REAL PRICING -->
<div id="upgrade-modal" class="modal">
    <div class="bg-white rounded-2xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto">
        <div class="p-8 border-b">
            <div class="flex justify-between items-center">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900">‚≠ê Upgrade Your Plan</h2>
                    <p class="text-gray-600 mt-2">Choose the plan that fits your business needs</p>
                </div>
                <button onclick="closeModal('upgrade-modal')" class="text-gray-400 hover:text-gray-600 text-3xl font-bold">√ó</button>
            </div>
        </div>

        <div class="p-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                
                <!-- STARTER PLAN -->
                <div class="pricing-card border-2 border-green-300">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Starter Plan</h3>
                        <div class="text-5xl font-bold text-green-600 mb-1">$10</div>
                        <div class="text-gray-600">per month</div>
                    </div>

                    <div class="space-y-4 mb-8">
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">5 campaigns maximum</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">10 AI generations/month</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Universal tracking</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Basic analytics</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Email support</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Fraud protection</span>
                        </div>
                    </div>

                    <button onclick="selectPlan('starter', 10)" class="w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-xl font-bold text-lg transition-colors">
                        üöÄ Choose Starter
                    </button>
                </div>
                
                <!-- PRO PLAN -->
                <div class="pricing-card popular border-2 border-blue-500">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Pro Plan</h3>
                        <div class="text-5xl font-bold text-blue-600 mb-1">$29</div>
                        <div class="text-gray-600">per month</div>
                    </div>

                    <div class="space-y-4 mb-8">
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Unlimited campaigns</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Unlimited AI generations</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Advanced analytics suite</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Split testing tools</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Email automation</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Priority support</span>
                        </div>
                    </div>

                    <button onclick="selectPlan('pro', 29)" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-bold text-lg transition-colors">
                        üöÄ Upgrade to Pro
                    </button>
                </div>

                <!-- ENTERPRISE PLAN -->
                <div class="pricing-card border-2 border-purple-300">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Enterprise Plan</h3>
                        <div class="text-5xl font-bold text-purple-600 mb-1">$99</div>
                        <div class="text-gray-600">per month</div>
                    </div>

                    <div class="space-y-4 mb-8">
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Everything in Pro</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">White-label options</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">API access</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Custom integrations</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Dedicated support</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-green-500 text-xl">‚úì</span>
                            <span class="font-medium">Custom training</span>
                        </div>
                    </div>

                    <button onclick="selectPlan('enterprise', 99)" class="w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg text-white py-4 rounded-xl font-bold text-lg transition-all">
                        üëë Upgrade to Enterprise
                    </button>
                </div>
            </div>

            <!-- Security Notice -->
            <div class="mt-8 p-6 bg-green-50 rounded-xl border border-green-200">
                <div class="flex items-center space-x-3 mb-3">
                    <span class="text-2xl">üîí</span>
                    <h4 class="text-lg font-bold text-green-800">Secure Payment Processing</h4>
                </div>
                <div class="text-green-700 space-y-1">
                    <p>‚úÖ 256-bit SSL encryption for all transactions</p>
                    <p>‚úÖ PCI DSS compliant payment processing</p>
                    <p>‚úÖ Powered by Stripe for maximum security</p>
                    <p>‚úÖ Cancel anytime, no hidden fees</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ACCOUNT CREATION MODAL -->
<div id="account-modal" class="modal">
    <div class="bg-white rounded-2xl max-w-lg w-full mx-4 p-8">
        <div class="text-center mb-8">
            <div class="text-4xl mb-4">üë§</div>
            <h3 class="text-2xl font-bold text-gray-900 mb-2">Create Your ADL Account</h3>
            <p id="selected-plan-info" class="text-lg text-blue-600 font-semibold"></p>
            <div class="mt-3 text-sm text-gray-500">
                Step 1 of 2: Account Details ‚Üí Payment
            </div>
        </div>
        
        <form id="account-form" class="space-y-6">
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">First Name *</label>
                    <input type="text" id="first-name" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="John">
                </div>
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Last Name *</label>
                    <input type="text" id="last-name" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Smith">
                </div>
            </div>
            
            <div>
                <label class="block text-sm font-bold text-gray-700 mb-2">Email Address *</label>
                <input type="email" id="account-email" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="john@example.com">
            </div>
            
            <div>
                <label class="block text-sm font-bold text-gray-700 mb-2">Company Name (Optional)</label>
                <input type="text" id="company-name" class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="My Business">
            </div>
            
            <div>
                <label class="block text-sm font-bold text-gray-700 mb-2">Password *</label>
                <input type="password" id="account-password" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Create secure password">
            </div>
            
            <div>
                <label class="block text-sm font-bold text-gray-700 mb-2">Confirm Password *</label>
                <input type="password" id="confirm-password" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Confirm password">
            </div>
            
            <div>
                <label class="block text-sm font-bold text-gray-700 mb-2">Country *</label>
                <select id="account-country" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none">
                    <option value="">Select Country</option>
                    <option value="AU">Australia</option>
                    <option value="US">United States</option>
                    <option value="UK">United Kingdom</option>
                    <option value="CA">Canada</option>
                    <option value="NZ">New Zealand</option>
                    <option value="OTHER">Other</option>
                </select>
            </div>
            
            <div class="flex items-center space-x-3">
                <input type="checkbox" id="account-terms" class="w-5 h-5" required>
                <label for="account-terms" class="text-sm font-medium text-gray-700">
                    I agree to the Terms of Service, Privacy Policy, and Content Guidelines
                </label>
            </div>
            
            <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-bold text-lg transition-colors">
                üìù Create Account & Proceed to Payment
            </button>
            
            <button type="button" onclick="closeModal('account-modal')" class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-xl font-medium transition-colors">
                Cancel
            </button>
        </form>
        
        <div class="text-center mt-6 text-sm text-gray-500">
            <p>üîí Your account data is encrypted and secure</p>
            <p>‚úÖ Australian business - supporting local entrepreneurs</p>
            <p class="text-xs mt-2 text-blue-600">
                üìù Demo Mode: Account data stored in session (production will use secure database)
            </p>
        </div>
    </div>
</div>

<!-- SECURE PAYMENT MODAL - UPDATED FOR AUSTRALIAN BANKING -->
<div id="payment-modal" class="modal">
    <div class="secure-payment rounded-2xl max-w-md w-full mx-4 p-8 text-white">
        <div class="text-center mb-8">
            <div class="text-4xl mb-4">üîí</div>
            <h3 class="text-2xl font-bold mb-2">Secure Payment</h3>
            <p id="payment-plan-info" class="text-lg opacity-90"></p>
            <div class="text-sm opacity-75 mt-2">
                Step 2 of 2: Complete Your Subscription
            </div>
            <div class="ssl-badge mt-4">
                <span class="text-xl mr-2">üá¶üá∫</span>
                Australian Secure Payment - Bendigo Bank
            </div>
        </div>
        
        <form id="payment-form" class="space-y-6">
            <!-- Payment Method Selection -->
            <div>
                <label class="block text-sm font-bold mb-3 opacity-90">Payment Method</label>
                <div class="grid grid-cols-2 gap-3">
                    <label class="flex items-center space-x-2 bg-white bg-opacity-10 p-3 rounded-lg cursor-pointer border-2 border-transparent hover:border-white">
                        <input type="radio" name="payment-method" value="card" checked class="w-4 h-4">
                        <span class="text-sm font-medium">üí≥ Credit/Debit Card</span>
                    </label>
                    <label class="flex items-center space-x-2 bg-white bg-opacity-10 p-3 rounded-lg cursor-pointer border-2 border-transparent hover:border-white">
                        <input type="radio" name="payment-method" value="bank" class="w-4 h-4">
                        <span class="text-sm font-medium">üè¶ Bank Transfer</span>
                    </label>
                </div>
            </div>
            
            <!-- Card Payment Section -->
            <div id="card-payment-section">
                <div>
                    <label class="block text-sm font-bold mb-2 opacity-90">Card Number</label>
                    <input type="text" id="card-number" class="payment-input w-full" placeholder="1234 5678 9012 3456" maxlength="19" required>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-bold mb-2 opacity-90">Expiry</label>
                        <input type="text" id="expiry-date" class="payment-input w-full" placeholder="MM/YY" maxlength="5" required>
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2 opacity-90">CVV</label>
                        <input type="text" id="cvv" class="payment-input w-full" placeholder="123" maxlength="4" required>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-bold mb-2 opacity-90">Cardholder Name</label>
                    <input type="text" id="cardholder-name" class="payment-input w-full" placeholder="John Smith" required>
                </div>
            </div>
            
            <!-- Bank Transfer Section -->
            <div id="bank-transfer-section" style="display: none;">
                <div class="bg-white bg-opacity-10 p-4 rounded-lg">
                    <h4 class="font-bold mb-3">Australian Bank Transfer Details:</h4>
                    <div class="space-y-2 text-sm">
                        <p><strong>Bank:</strong> Bendigo Bank</p>
                        <p><strong>Account Name:</strong> D & J LEFFLER</p>
                        <p><strong>BSB:</strong> 633000</p>
                        <p><strong>Account No:</strong> 203640065</p>
                        <p class="text-yellow-200 mt-3">
                            <strong>Reference:</strong> Your email address + plan name
                        </p>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-bold mb-2 opacity-90">Transfer Reference</label>
                    <input type="text" id="transfer-reference" class="payment-input w-full" placeholder="youremail@domain.com-starter" readonly>
                </div>
            </div>
            
            <!-- Australian Tax Notice -->
            <div class="bg-green-500 bg-opacity-20 p-4 rounded-lg border border-green-400">
                <h4 class="font-bold mb-2">üá¶üá∫ Australian Business Notice</h4>
                <p class="text-sm opacity-90">
                    All payments processed by Leffler International Investment Pty Ltd
ACN 124 089 345
ABN 90124089345 pending). 
                    GST included in displayed prices for Australian customers.
                </p>
            </div>
            
            <div class="flex items-center space-x-3">
                <input type="checkbox" id="terms-agreement" class="w-5 h-5" required>
                <label for="terms-agreement" class="text-sm font-medium">
                    I agree to the Terms of Service, Privacy Policy, and Content Guidelines
                </label>
            </div>
            
            <button type="submit" id="payment-submit-btn" class="w-full bg-white text-blue-600 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-colors">
                üîí Complete Secure Payment
            </button>
            
            <button type="button" onclick="closeModal('payment-modal')" class="w-full bg-transparent border-2 border-white border-opacity-30 text-white py-3 rounded-xl font-medium hover:bg-white hover:bg-opacity-10 transition-colors">
                Cancel
            </button>
        </form>
        
        <div class="text-center mt-6 text-sm opacity-75">
            <p>üí≥ Visa ‚Ä¢ Mastercard ‚Ä¢ American Express</p>
            <p>üè¶ Australian Bank Transfer Available</p>
            <p class="mt-1">üõ°Ô∏è Secured by Australian Financial Services</p>
        </div>
    </div>
</div>

<!-- CREATE CAMPAIGN MODAL -->
<div id="create-modal" class="modal">
    <div class="bg-white rounded-2xl max-w-lg w-full mx-4 p-8">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-2xl font-bold text-gray-900">üöÄ Create Account & Campaign</h3>
            <button onclick="closeModal('create-modal')" class="text-gray-400 hover:text-gray-600 text-2xl font-bold">√ó</button>
        </div>
        
        <!-- Fraud Protection Notice -->
        <div class="fraud-protection mb-6">
            <div class="flex items-center space-x-3 mb-3">
                <span class="text-2xl">üõ°Ô∏è</span>
                <h4 class="font-bold">Automatic Fraud Protection Active</h4>
            </div>
            <p class="text-sm opacity-90">All campaigns are automatically screened for prohibited content. Violations result in immediate suspension.</p>
        </div>
        
        
<form id="combined-form" class="space-y-6">
  <h2 class="text-xl font-bold text-gray-800 mb-4">üë§ Account Settings</h2>
  <div class="grid grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-bold text-gray-700 mb-2">First Name *</label>
      <input type="text" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl" placeholder="John">
    </div>
    <div>
      <label class="block text-sm font-bold text-gray-700 mb-2">Last Name *</label>
      <input type="text" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl" placeholder="Smith">
    </div>
  </div>
  <div>
    <label class="block text-sm font-bold text-gray-700 mb-2">Email *</label>
    <input type="email" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl" placeholder="john@example.com">
  </div>
  <div>
    <label class="block text-sm font-bold text-gray-700 mb-2">Password *</label>
    <input type="password" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
  </div>
  <div>
    <label class="block text-sm font-bold text-gray-700 mb-2">Country *</label>
    <select required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl">
      <option value="">Select Country</option>
      <option>Australia</option>
      <option>United States</option>
    </select>
  </div>

  <h2 class="text-xl font-bold text-gray-800 mt-6 mb-4">üì¢ Campaign Details</h2>
  <div>
    <label class="block text-sm font-bold text-gray-700 mb-2">Campaign Name *</label>
    <input type="text" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl" placeholder="Holiday Sale 2025">
  </div>
  <div>
    <label class="block text-sm font-bold text-gray-700 mb-2">Advertising Platform *</label>
    <select required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl">
      <option value="">Choose Platform</option>
      <option>Facebook</option>
      <option>Google</option>
    </select>
  </div>
  <div>
    <label class="block text-sm font-bold text-gray-700 mb-2">Monthly Budget ($) *</label>
    <input type="number" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl" placeholder="2500">
  </div>
  <div>
    <label class="block text-sm font-bold text-gray-700 mb-2">Landing Page URL *</label>
    <input type="url" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl" placeholder="https://mystore.com">
  </div>

  <div class="flex items-center space-x-3">
    <input type="checkbox" class="w-5 h-5" required>
    <label class="text-sm">I agree to the Terms of Service and Privacy Policy</label>
  </div>

  <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-bold text-lg">
    üöÄ Create Account & Campaign
  </button>
</form>

    </div>
</div>

<!-- AI AD GENERATOR MODAL -->
<div id="ai-modal" class="modal">
    <div class="bg-white rounded-2xl max-w-3xl w-full mx-4 p-8">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-2xl font-bold text-gray-900">ü§ñ AI Ad Generator</h3>
            <button onclick="closeModal('ai-modal')" class="text-gray-400 hover:text-gray-600 text-2xl font-bold">√ó</button>
        </div>
        
        <form id="ai-form" class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Product/Service *</label>
                    <input type="text" id="ai-product" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none" placeholder="E-commerce Store">
                </div>
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Target Keywords *</label>
                    <input type="text" id="ai-keywords" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none" placeholder="buy online, best deals">
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Target Audience *</label>
                    <select id="ai-audience" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none">
                        <option value="">Select Audience</option>
                        <option value="young-adults">Young Adults (18-25)</option>
                        <option value="millennials">Millennials (26-35)</option>
                        <option value="gen-x">Gen X (36-45)</option>
                        <option value="middle-aged">Middle-aged (46-55)</option>
                        <option value="parents">Parents/Families</option>
                        <option value="professionals">Business Professionals</option>
                        <option value="entrepreneurs">Entrepreneurs</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Special Offer</label>
                    <select id="ai-offer" class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none">
                        <option value="">No Special Offer</option>
                        <option value="50% Off">50% Off</option>
                        <option value="Free Shipping">Free Shipping</option>
                        <option value="Limited Time">Limited Time Offer</option>
                        <option value="Free Trial">Free Trial</option>
                        <option value="Money Back Guarantee">Money Back Guarantee</option>
                    </select>
                </div>
            </div>
            
            <button type="submit" class="w-full bg-purple-600 hover:bg-purple-700 text-white py-4 rounded-xl font-bold text-lg transition-colors">
                ü§ñ Generate AI Ad Copy
            </button>
        </form>
        
        <div id="ai-results" class="mt-8" style="display: none;">
            <div class="bg-purple-50 p-6 rounded-xl border-2 border-purple-200">
                <h4 class="text-xl font-bold text-purple-800 mb-4">üéØ AI-Generated Content</h4>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-bold text-purple-700 mb-2">Headline:</label>
                        <div id="ai-headline" class="bg-white p-4 rounded-xl border font-bold text-lg"></div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-bold text-purple-700 mb-2">Description:</label>
                        <div id="ai-description" class="bg-white p-4 rounded-xl border"></div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-bold text-purple-700 mb-2">ADL Tracking Code:</label>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm text-purple-600">‚úÖ Ready to use in your ads</span>
                            <button onclick="copyAICode()" class="bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-purple-700">
                                üìã Copy Code
                            </button>
                        </div>
                        <div id="ai-adl-code" class="adl-code"></div>
                    </div>
                    
                    <button onclick="createCampaignFromAI()" class="w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-xl font-bold transition-colors">
                        ‚úÖ Create Campaign with This Ad
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- FIXED BOTTOM ADS STRIP -->
<div id="ads-strip" class="fixed bottom-0 left-0 right-0 z-30 bg-white border-t-4 border-blue-500 shadow-2xl">
    <div class="max-w-7xl mx-auto px-6 py-4">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <div id="ad-logo" class="text-4xl animate-pulse">üé®</div>
                <div class="flex-1">
                    <p id="ad-text" class="text-lg text-gray-800 font-bold">Master digital marketing with Udemy courses - Up to 85% off</p>
                    <p class="text-sm text-gray-600">Limited time offer - Don't miss out!</p>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <button id="ad-cta" onclick="clickAd()" class="px-8 py-3 bg-blue-600 text-white rounded-xl text-lg font-bold hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105">
                    Learn Now
                </button>
                <div class="text-gray-400 text-xs">
                    <span class="bg-gray-100 px-2 py-1 rounded-full">Ads support free ADL</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- INSTRUCTIONS MODAL -->
<div id="instructions-modal" class="modal">
    <div class="bg-white rounded-2xl max-w-4xl w-full mx-4 p-8 max-h-[90vh] overflow-y-auto">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-3xl font-bold text-gray-900">üìö ADL Platform Instructions</h2>
            <button onclick="closeModal('instructions-modal')" class="text-gray-400 hover:text-gray-600 text-3xl font-bold">√ó</button>
        </div>

        <div class="space-y-8">
            <div class="bg-blue-50 p-6 rounded-xl border border-blue-200">
                <h3 class="text-2xl font-bold text-blue-800 mb-4">üöÄ 1. Create Campaign</h3>
                <ul class="text-blue-700 space-y-2 text-lg">
                    <li>‚Ä¢ Click "Create Campaign" to start a new ad tracking campaign</li>
                    <li>‚Ä¢ Choose your advertising platform (Google, Facebook, TikTok, etc.)</li>
                    <li>‚Ä¢ Set your budget and target URL</li>
                    <li>‚Ä¢ ADL automatically generates a unique tracking code (ADL_XX####)</li>
                    <li>‚Ä¢ This code tracks across ALL platforms without expensive tools</li>
                </ul>
            </div>
            
            <div class="bg-purple-50 p-6 rounded-xl border border-purple-200">
                <h3 class="text-2xl font-bold text-purple-800 mb-4">ü§ñ 2. AI Ad Generator</h3>
                <ul class="text-purple-700 space-y-2 text-lg">
                    <li>‚Ä¢ Click "AI Ad Generator" for SEO-optimized ad copy</li>
                    <li>‚Ä¢ Enter your product, keywords, and target audience</li>
                    <li>‚Ä¢ AI creates high-converting headlines and descriptions</li>
                    <li>‚Ä¢ Includes your ADL tracking code automatically</li>
                    <li>‚Ä¢ Optimized for ranking on search engines and social platforms</li>
                </ul>
            </div>
            
            <div class="bg-green-50 p-6 rounded-xl border border-green-200">
                <h3 class="text-2xl font-bold text-green-800 mb-4">üìä 3. Universal Tracking & Analytics</h3>
                <ul class="text-green-700 space-y-2 text-lg">
                    <li>‚Ä¢ Click "View Analytics" on any campaign for detailed metrics</li>
                    <li>‚Ä¢ See real-time clicks, conversions, revenue, and ROI automatically</li>
                    <li>‚Ä¢ ADL tracking codes work across Google, Facebook, TikTok, and 20+ platforms</li>
                    <li>‚Ä¢ No need for expensive Google Analytics or GTM setup</li>
                    <li>‚Ä¢ All data updates in real-time on your dashboard</li>
                </ul>
            </div>
            
            <div class="bg-yellow-50 p-6 rounded-xl border border-yellow-200">
                <h3 class="text-2xl font-bold text-yellow-800 mb-4">‚≠ê 4. Your Starter Plan Benefits</h3>
                <ul class="text-yellow-700 space-y-2 text-lg">
                    <li>‚Ä¢ <strong>5 campaigns maximum</strong> - Perfect for getting started</li>
                    <li>‚Ä¢ <strong>10 AI generations/month</strong> - Create compelling ad copy</li>
                    <li>‚Ä¢ <strong>Enhanced analytics</strong> - Track performance across platforms</li>
                    <li>‚Ä¢ <strong>Email automation tools</strong> - Nurture your leads</li>
                    <li>‚Ä¢ <strong>Landing page builder</strong> - Convert more visitors</li>
                    <li>‚Ä¢ Upgrade to Pro ($29/month) for unlimited campaigns and advanced features</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- CONTACT MODAL -->
<div id="contact-modal" class="modal">
    <div class="bg-white rounded-2xl max-w-2xl w-full mx-4 p-8 max-h-[90vh] overflow-y-auto">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-3xl font-bold text-gray-900">üìû Contact ADL Support</h2>
            <button onclick="closeModal('contact-modal')" class="text-gray-400 hover:text-gray-600 text-3xl font-bold">√ó</button>
        </div>

        <div id="contact-form-container">
            <form id="contact-form" class="space-y-6">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Your Name *</label>
                    <input type="text" id="contact-name" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none">
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Your Email *</label>
                    <input type="email" id="contact-email" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none">
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Subject *</label>
                    <input type="text" id="contact-subject" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none">
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Message *</label>
                    <textarea id="contact-message" required rows="5" class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none resize-none"></textarea>
                </div>

                <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-bold text-lg transition-colors">
                    üìß Send Message
                </button>
            </form>
        </div>

        <div id="contact-success" style="display: none;" class="text-center py-8">
            <div class="text-6xl mb-4">üìß</div>
            <h3 class="text-2xl font-bold text-green-600 mb-2">Message Sent!</h3>
            <p class="text-gray-600 mb-4">Your message has been delivered to our support team</p>
            <button onclick="resetContactForm()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-bold">
                Send Another Message
            </button>
        </div>
    </div>
</div>

<!-- REVIEW MODAL -->
<div id="review-modal" class="modal">
    <div class="bg-white rounded-2xl max-w-3xl w-full mx-4 p-8 max-h-[90vh] overflow-y-auto">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-3xl font-bold text-gray-900">‚≠ê Review ADL Platform</h2>
            <button onclick="closeModal('review-modal')" class="text-gray-400 hover:text-gray-600 text-3xl font-bold">√ó</button>
        </div>

        <div class="text-center mb-8">
            <div class="text-6xl mb-4">üåü</div>
            <h3 class="text-2xl font-bold text-gray-800 mb-2">Love ADL Platform?</h3>
            <p class="text-gray-600 mb-6">Help others discover our platform by leaving a review on these trusted sites!</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
            <a href="https://www.google.com/search?q=ADL+Platform+review" target="_blank" class="flex items-center space-x-4 bg-red-50 hover:bg-red-100 border border-red-200 rounded-xl p-6 transition-colors group">
                <div class="text-4xl">üîç</div>
                <div>
                    <h4 class="font-bold text-red-700 group-hover:text-red-800 text-lg">Google Reviews</h4>
                    <p class="text-red-600 text-sm">Share your experience on Google</p>
                </div>
            </a>

            <a href="https://www.trustpilot.com/review/addatalogic.com" target="_blank" class="flex items-center space-x-4 bg-green-50 hover:bg-green-100 border border-green-200 rounded-xl p-6 transition-colors group">
                <div class="text-4xl">üõ°Ô∏è</div>
                <div>
                    <h4 class="font-bold text-green-700 group-hover:text-green-800 text-lg">Trustpilot</h4>
                    <p class="text-green-600 text-sm">Rate us on Trustpilot</p>
                </div>
            </a>

            <a href="https://www.producthunt.com/search?q=ADL%20Platform" target="_blank" class="flex items-center space-x-4 bg-orange-50 hover:bg-orange-100 border border-orange-200 rounded-xl p-6 transition-colors group">
                <div class="text-4xl">üöÄ</div>
                <div>
                    <h4 class="font-bold text-orange-700 group-hover:text-orange-800 text-lg">Product Hunt</h4>
                    <p class="text-orange-600 text-sm">Hunt us on Product Hunt</p>
                </div>
            </a>

            <a href="https://www.facebook.com/search/top?q=ADL%20Platform" target="_blank" class="flex items-center space-x-4 bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-xl p-6 transition-colors group">
                <div class="text-4xl">üë•</div>
                <div>
                    <h4 class="font-bold text-blue-700 group-hover:text-blue-800 text-lg">Facebook</h4>
                    <p class="text-blue-600 text-sm">Review on Facebook</p>
                </div>
            </a>
        </div>
    </div>
</div>
<div id="notification" class="fixed top-6 right-6 z-50 bg-green-600 text-white px-6 py-4 rounded-xl shadow-lg font-bold transform translate-x-full transition-transform duration-300">
    <span id="notification-text"></span>
</div>

<!-- FOOTER -->
<footer class="bg-gray-900 text-white py-12 mt-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
                <h3 class="text-xl font-bold mb-4">ADL Platform</h3>
                <p class="text-gray-400">Universal Ad Tracking & Analytics</p>
                <p class="text-gray-400 mt-2">Professional ‚Ä¢ Secure ‚Ä¢ Reliable</p>
            </div>
            <div>
                <h4 class="font-bold mb-4">Features</h4>
                <ul class="space-y-2 text-gray-400">
                    <li>Universal Campaign Tracking</li>
                    <li>AI-Powered Ad Generation</li>
                    <li>Real-time Analytics</li>
                    <li>Fraud Protection</li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold mb-4">Security</h4>
                <ul class="space-y-2 text-gray-400">
                    <li>üîí SSL Encryption</li>
                    <li>üõ°Ô∏è PCI Compliance</li>
                    <li>üö´ Fraud Protection</li>
                    <li>‚úÖ Content Screening</li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold mb-4">Support</h4>
                <ul class="space-y-2 text-gray-400">
                    <li>Email: support@addatalogic.com</li>
                    <li>24/7 Technical Support</li>
                    <li>Training Materials</li>
                    <li>API Documentation</li>
                </ul>
            </div>
        </div>
        <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
            <p>¬© 2025 ADL Platform - Leffler International Investment Pty Ltd
ACN 124 089 345
ABN 90124089345</p>
            <p class="mt-2 text-sm">üîí Secure payments ‚Ä¢ üõ°Ô∏è Fraud protection ‚Ä¢ ‚úÖ Content compliance</p>
        </div>
    </div>
</footer>

<script>
// CORE APPLICATION STATE
let userTier = 'starter';
let campaigns = [];
let aiUsageCount = 0;
let selectedPlan = null;
let selectedPrice = 0;
let currentAdIndex = 0;
let currentUser = null;

// SESSION MANAGEMENT (In-Memory)
let sessionData = {
    user: null,
    campaigns: [],
    settings: {}
};

// Simulate user login state
function updateSessionData() {
    if (currentUser) {
        sessionData.user = currentUser;
        sessionData.campaigns = campaigns;
        sessionData.settings = { tier: userTier, aiUsage: aiUsageCount };
        
        // In production, this would sync with your backend
        console.log('Session updated:', sessionData);
    }
}
const AUSTRALIAN_BANK = {
    bank: 'Bendigo Bank',
    accountName: 'D & J LEFFLER',
    bsb: '633000',
    accountNumber: '203640065'
};

// TIER LIMITS
const TIER_LIMITS = {
    starter: { campaigns: 5, ai: 10 },
    pro: { campaigns: Infinity, ai: Infinity },
    enterprise: { campaigns: Infinity, ai: Infinity }
};

// ADS CONFIGURATION
const softAds = [
    {
        logo: 'üé®',
        text: 'Master digital marketing with Udemy courses - Up to 85% off',
        cta: 'Learn Now',
        url: 'https://www.udemy.com/',
        color: 'blue'
    },
    {
        logo: 'üõçÔ∏è',
        text: 'Build your store with Shopify - 14-day free trial',
        cta: 'Start Free',
        url: 'https://www.shopify.com/',
        color: 'green'
    },
    {
        logo: 'üìö',
        text: 'Design stunning ads with Canva Pro - 50% off first month',
        cta: 'Try Canva',
        url: 'https://www.canva.com/pro/',
        color: 'purple'
    },
    {
        logo: 'üìä',
        text: 'Optimize campaigns with Buffer Pro - 30% discount',
        cta: 'Get Buffer',
        url: 'https://buffer.com/',
        color: 'indigo'
    }
];

// PROHIBITED CONTENT DETECTION
const PROHIBITED_TERMS = [
    'illegal drugs', 'weapons sales', 'counterfeit goods',
    'money laundering', 'pyramid scheme', 'ponzi scheme',
    'adult services', 'escort services', 'sexual content',
    'get rich quick', 'guaranteed income', 'miracle cure',
    'lose weight fast', 'secret government',
    'cryptocurrency investment', 'forex trading signals',
    'medical advice', 'legal advice', 'tax advice'
];

// AI AD TEMPLATES
const AI_TEMPLATES = {
    headlines: [
        "üöÄ Premium {product} for {audience} - {offer} Limited Time!",
        "‚ö° Finally! {product} That Actually Works - {offer}",
        "üî• Professional {product} Solution - {offer} + Bonus",
        "üíé Transform Your {keywords} Success - {offer}",
        "üéØ Stop Struggling! Get {product} - {offer}"
    ],
    descriptions: [
        "Transform your {keywords} success with our premium {product} designed for {audience}. {offer} includes everything you need plus exclusive bonuses. Join thousands who've achieved breakthrough results.",
        "Attention {audience}! Our battle-tested {product} has helped over 10,000+ users master {keywords}. {offer} expires soon - get instant access to proven strategies.",
        "Professional {product} specifically engineered for ambitious {audience}. Get our {keywords} blueprint that's generated millions in results. {offer} won't last long!"
    ]
};

// UTILITY FUNCTIONS
function generateADLCode(source) {
    const prefix = 'ADL_';
    const sourceCode = source.substring(0, 2).toUpperCase();
    const random = Math.random().toString(36).substring(2, 6).toUpperCase();
    const timestamp = Date.now().toString().slice(-4);
    return `${prefix}${sourceCode}${random}${timestamp}`;
}

function showNotification(message, type = 'success') {
    const notification = document.getElementById('notification');
    const text = document.getElementById('notification-text');
    
    notification.className = `fixed top-6 right-6 z-50 px-6 py-4 rounded-xl shadow-lg font-bold transition-transform duration-300 ${
        type === 'error' ? 'bg-red-600' : 'bg-green-600'
    } text-white`;
    
    text.textContent = message;
    notification.style.transform = 'translateX(0)';
    
    setTimeout(() => {
        notification.style.transform = 'translateX(100%)';
    }, 4000);
}

function openModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.classList.add('show');
        document.body.style.overflow = 'hidden';
    }
}

function closeModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.classList.remove('show');
        document.body.style.overflow = 'auto';
    }
}

function copyToClipboard(text) {
    if (navigator.clipboard) {
        navigator.clipboard.writeText(text).then(() => {
            showNotification('üìã Copied to clipboard!');
        });
    } else {
        showNotification('üìã Copy manually: ' + text);
    }
}

// ADS MANAGEMENT
function rotateSoftAds() {
    const ad = softAds[currentAdIndex];
    document.getElementById('ad-logo').textContent = ad.logo;
    document.getElementById('ad-text').textContent = ad.text;
    document.getElementById('ad-cta').textContent = ad.cta;
    
    currentAdIndex = (currentAdIndex + 1) % softAds.length;
}

function clickAd() {
    const currentAd = softAds[currentAdIndex === 0 ? softAds.length - 1 : currentAdIndex - 1];
    showNotification('üéØ Redirecting to partner website...');
    window.open(currentAd.url, '_blank');
}

// ACCOUNT MANAGEMENT
function proceedToPayment() {
    const planInfo = document.getElementById('payment-plan-info');
    const planNames = { 
        starter: 'Starter Plan', 
        pro: 'Pro Plan', 
        enterprise: 'Enterprise Plan' 
    };
    planInfo.textContent = `${planNames[selectedPlan]} - ${selectedPrice}/month`;
    
    // Update transfer reference with user email
    const email = currentUser ? currentUser.email : document.getElementById('account-email').value;
    const transferRef = document.getElementById('transfer-reference');
    if (transferRef) {
        transferRef.value = `${email}-${selectedPlan}`;
    }
    
    closeModal('account-modal');
    openModal('payment-modal');
}

function createUserAccount() {
    const firstName = document.getElementById('first-name').value;
    const lastName = document.getElementById('last-name').value;
    const email = document.getElementById('account-email').value;
    const company = document.getElementById('company-name').value;
    const password = document.getElementById('account-password').value;
    const confirmPassword = document.getElementById('confirm-password').value;
    const country = document.getElementById('account-country').value;
    const termsAccepted = document.getElementById('account-terms').checked;
    
    // Validation
    if (!termsAccepted) {
        showNotification('‚ö†Ô∏è Please accept the terms and conditions', 'error');
        return false;
    }
    
    if (password !== confirmPassword) {
        showNotification('‚ö†Ô∏è Passwords do not match', 'error');
        return false;
    }
    
    if (password.length < 8) {
        showNotification('‚ö†Ô∏è Password must be at least 8 characters', 'error');
        return false;
    }
    
    // Create user object
    currentUser = {
        id: Date.now(),
        firstName,
        lastName,
        email,
        company,
        country,
        plan: selectedPlan,
        price: selectedPrice,
        created: new Date().toISOString(),
        campaigns: [],
        aiUsage: 0
    };
    
    // Store in memory and update session
    updateSessionData();
    
    showNotification('‚úÖ Account created successfully!');
    
    // NOW proceed to payment modal
    setTimeout(() => {
        proceedToPayment();
    }, 1500);
    
    return false;
}
function showInstructions() {
    openModal('instructions-modal');
}

function showContact() {
    openModal('contact-modal');
}

function showReview() {
    openModal('review-modal');
}

function resetContactForm() {
    document.getElementById('contact-form-container').style.display = 'block';
    document.getElementById('contact-success').style.display = 'none';
    document.getElementById('contact-form').reset();
}
function screenContent(content) {
    const lowerContent = content.toLowerCase();
    
    for (const term of PROHIBITED_TERMS) {
        if (lowerContent.includes(term)) {
            return {
                approved: false,
                reason: `Content containing "${term}" violates our content policy`
            };
        }
    }
    
    return { approved: true };
}

// PAYMENT PROCESSING
function selectPlan(plan, price) {
    selectedPlan = plan;
    selectedPrice = price;
    
    const planInfo = document.getElementById('payment-plan-info');
    const planNames = { 
        starter: 'Starter Plan', 
        pro: 'Pro Plan', 
        enterprise: 'Enterprise Plan' 
    };
    planInfo.textContent = `${planNames[plan]} - ${price}/month`;
    
    closeModal('upgrade-modal');
    openModal('payment-modal');
}

function processPayment() {
    // Get form data
    const cardNumber = document.getElementById('card-number').value;
    const expiryDate = document.getElementById('expiry-date').value;
    const cvv = document.getElementById('cvv').value;
    const cardholderName = document.getElementById('cardholder-name').value;
    const email = document.getElementById('billing-email').value;
    const termsAccepted = document.getElementById('terms-agreement').checked;
    
    // Validation
    if (!cardNumber || !expiryDate || !cvv || !cardholderName || !email) {
        showNotification('‚ö†Ô∏è Please fill in all payment fields', 'error');
        return false;
    }
    
    if (!termsAccepted) {
        showNotification('‚ö†Ô∏è Please accept the terms and content policy', 'error');
        return false;
    }
    
    // Show processing
    const submitBtn = document.getElementById('payment-submit-btn');
    const originalText = submitBtn.textContent;
    submitBtn.textContent = 'üîÑ Processing Secure Payment...';
    submitBtn.disabled = true;
    
    // Simulate payment processing (3 seconds)
    setTimeout(() => {
        // Update user tier
        userTier = selectedPlan;
        updateTierDisplay();
        
        // Close modals
        closeModal('payment-modal');
        
        // Reset form
        document.getElementById('payment-form').reset();
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
        
        // Success notification
        const planNames = { 
            starter: 'Starter', 
            pro: 'Pro', 
            enterprise: 'Enterprise' 
        };
        showNotification(`üéâ Welcome to ${planNames[selectedPlan]}! Payment successful.`);
        
        // Send confirmation email notification
        setTimeout(() => {
            showNotification(`üìß Confirmation email sent to ${email}`);
        }, 2000);
        
    }, 3000);
    
    return false;
}

// CAMPAIGN MANAGEMENT
function createCampaign() {
    if (campaigns.length >= TIER_LIMITS[userTier].campaigns) {
        showNotification('‚≠ê Campaign limit reached. Upgrade for more campaigns', 'error');
        showUpgrade();
        return;
    }
    
    openModal('create-modal');
}

function renderCampaigns() {
    const grid = document.getElementById('campaigns-grid');
    if (!grid) return;
    
    if (campaigns.length === 0) {
        grid.innerHTML = `
            <div class="col-span-full text-center py-12">
                <div class="text-6xl mb-4">üöÄ</div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Ready to Launch Your First Campaign?</h3>
                <p class="text-gray-600 mb-6">Create your first campaign to start tracking across all platforms</p>
                <button onclick="createCampaign()" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-bold transition-colors">
                    üöÄ Create First Campaign
                </button>
                <div class="mt-6 text-sm text-gray-500 space-y-1">
                    <p>‚úÖ Universal tracking across 25+ platforms</p>
                    <p>‚úÖ Real-time analytics and reporting</p>
                    <p>‚úÖ Automatic fraud protection</p>
                </div>
            </div>
        `;
        return;
    }
    
    grid.innerHTML = campaigns.map(campaign => {
        const statusClass = campaign.status === 'active' ? 'status-active' : 'status-paused';
        const statusText = campaign.status === 'active' ? 'üü¢ Active' : '‚è∏Ô∏è Paused';
        const roas = campaign.budget > 0 ? (campaign.revenue / campaign.budget).toFixed(2) : '0.00';
        
        return `
            <div class="campaign-card">
                <div class="flex justify-between items-start mb-4">
                    <div class="flex-1">
                        <h3 class="text-lg font-bold text-gray-900 mb-1">${campaign.name}</h3>
                        <p class="text-gray-600 text-sm">${campaign.source}</p>
                    </div>
                    <span class="px-3 py-1 text-xs font-bold rounded-full ${statusClass}">${statusText}</span>
                </div>
                
                <div class="mb-4">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-xs text-gray-500 font-medium">ADL Tracking Code:</span>
                        <button onclick="copyToClipboard('${campaign.code}')" class="text-blue-600 text-xs hover:text-blue-800 font-medium">
                            üìã Copy
                        </button>
                    </div>
                    <div class="adl-code text-xs">${campaign.code}</div>
                </div>
                
                <div class="grid grid-cols-3 gap-3 mb-4">
                    <div class="text-center p-3 bg-blue-50 rounded-lg">
                        <div class="text-xs text-blue-600 font-bold mb-1">CLICKS</div>
                        <div class="text-lg font-bold text-blue-700">${campaign.clicks || 0}</div>
                    </div>
                    <div class="text-center p-3 bg-green-50 rounded-lg">
                        <div class="text-xs text-green-600 font-bold mb-1">CONVERSIONS</div>
                        <div class="text-lg font-bold text-green-700">${campaign.conversions || 0}</div>
                    </div>
                    <div class="text-center p-3 bg-yellow-50 rounded-lg">
                        <div class="text-xs text-yellow-600 font-bold mb-1">ROAS</div>
                        <div class="text-lg font-bold text-yellow-700">${roas}x</div>
                    </div>
                </div>
                
                <div class="flex gap-2">
                    <button onclick="viewAnalytics(${campaign.id})" class="flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-bold hover:bg-blue-700">
                        üìä Analytics
                    </button>
                    <button onclick="toggleCampaign(${campaign.id})" class="bg-gray-100 text-gray-700 py-2 px-3 rounded-lg text-sm hover:bg-gray-200">
                        ${campaign.status === 'active' ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è'}
                    </button>
                    <button onclick="deleteCampaign(${campaign.id})" class="bg-red-100 text-red-700 py-2 px-3 rounded-lg text-sm hover:bg-red-200">
                        üóëÔ∏è
                    </button>
                </div>
            </div>
        `;
    }).join('');
}

function updateTotals() {
    const totalClicks = campaigns.reduce((sum, c) => sum + (c.clicks || 0), 0);
    const totalConversions = campaigns.reduce((sum, c) => sum + (c.conversions || 0), 0);
    const totalRevenue = campaigns.reduce((sum, c) => sum + (c.revenue || 0), 0);
    const totalBudget = campaigns.reduce((sum, c) => sum + c.budget, 0);
    const totalRoas = totalBudget > 0 ? (totalRevenue / totalBudget).toFixed(1) : '0.0';
    
    document.getElementById('total-clicks').textContent = totalClicks.toLocaleString();
    document.getElementById('total-conversions').textContent = totalConversions.toLocaleString();
    document.getElementById('total-revenue').textContent = '$' + Math.round(totalRevenue).toLocaleString();
    document.getElementById('total-roas').textContent = totalRoas + 'x';
}

function updateTierDisplay() {
    const userTierEl = document.getElementById('user-tier');
    const campaignCountEl = document.getElementById('campaign-count');
    const userStatusEl = document.getElementById('user-status');
    const userNameEl = document.getElementById('user-name');
    
    const tierNames = {
        starter: 'STARTER PLAN',
        pro: 'PRO PLAN',
        enterprise: 'ENTERPRISE PLAN'
    };
    
    const tierColors = {
        starter: 'bg-green-600',
        pro: 'bg-blue-600',
        enterprise: 'bg-gradient-to-r from-purple-600 to-blue-600'
    };
    
    userTierEl.textContent = tierNames[userTier];
    userTierEl.className = `px-4 py-2 text-white rounded-full text-sm font-bold ${tierColors[userTier]}`;
    campaignCountEl.textContent = campaigns.length;
    
    // Show user status if logged in
    if (currentUser) {
        userStatusEl.style.display = 'block';
        userNameEl.textContent = `${currentUser.firstName} ${currentUser.lastName}`;
    } else {
        userStatusEl.style.display = 'none';
    }
}

function toggleCampaign(id) {
    const campaign = campaigns.find(c => c.id === id);
    if (campaign) {
        campaign.status = campaign.status === 'active' ? 'paused' : 'active';
        renderCampaigns();
        showNotification(`Campaign ${campaign.status === 'active' ? 'resumed' : 'paused'}!`);
    }
}

function deleteCampaign(id) {
    if (confirm('Are you sure you want to delete this campaign?')) {
        campaigns = campaigns.filter(c => c.id !== id);
        renderCampaigns();
        updateTotals();
        showNotification('üóëÔ∏è Campaign deleted successfully');
    }
}

function viewAnalytics(id) {
    const campaign = campaigns.find(c => c.id === id);
    if (campaign) {
        showNotification('üìä Advanced analytics available in your plan');
    }
}

// AI FUNCTIONS
function generateAIAd() {
    if (aiUsageCount >= TIER_LIMITS[userTier].ai) {
        showNotification('‚≠ê AI usage limit reached. Upgrade for unlimited access', 'error');
        showUpgrade();
        return;
    }
    
    openModal('ai-modal');
}

function createCampaignFromAI() {
    closeModal('ai-modal');
    createCampaign();
}

// EXPORT FUNCTIONS
function exportData() {
    if (campaigns.length === 0) {
        showNotification('üìä Create campaigns first to export data', 'error');
        return;
    }
    
    const csv = [
        'Campaign,Platform,ADL Code,Status,Budget,Clicks,Conversions,Revenue,ROAS',
        ...campaigns.map(c => {
            const roas = c.budget > 0 ? (c.revenue / c.budget).toFixed(2) : '0.00';
            return `"${c.name}","${c.source}","${c.code}","${c.status}","${c.budget}","${c.clicks || 0}","${c.conversions || 0}","${(c.revenue || 0).toFixed(2)}","${roas}"`;
        })
    ].join('\n');
    
    const blob = new Blob([csv], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `adl_campaigns_${new Date().toISOString().split('T')[0]}.csv`;
    a.click();
    URL.revokeObjectURL(url);
    
    showNotification('üìä Campaign data exported successfully!');
}

// MAIN FUNCTIONS
function refreshData() {
    showNotification('üîÑ Data refreshed from servers');
    renderCampaigns();
    updateTotals();
}

function showUpgrade() {
    openModal('upgrade-modal');
}

function copyCode() {
    const code = document.getElementById('generated-adl-code').textContent;
    copyToClipboard(code);
}

function copyAICode() {
    const code = document.getElementById('ai-adl-code').textContent;
    copyToClipboard(code);
}

// EVENT LISTENERS
document.addEventListener('DOMContentLoaded', function() {
    // Initialize app
    renderCampaigns();
    updateTotals();
    updateTierDisplay();
    
    // In production, this would load user data from your backend API
    // For demo purposes, we'll start with a fresh session each time
    
    // Account form
    const accountForm = document.getElementById('account-form');
    accountForm.addEventListener('submit', function(e) {
        e.preventDefault();
        createUserAccount();
        
        // Update selected plan info
        const planNames = { 
            starter: 'Starter Plan', 
            pro: 'Pro Plan', 
            enterprise: 'Enterprise Plan' 
        };
        document.getElementById('selected-plan-info').textContent = `${planNames[selectedPlan]} - ${selectedPrice}/month`;
    });
    
    // Payment form
    const paymentForm = document.getElementById('payment-form');
    paymentForm.addEventListener('submit', function(e) {
        e.preventDefault();
        processPayment();
    });
    
    // Card number formatting
    document.getElementById('card-number').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\s/g, '').replace(/\D/g, '');
        value = value.substring(0, 16);
        value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
        e.target.value = value;
    });
    
    // Expiry date formatting
    document.getElementById('expiry-date').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        value = value.substring(0, 4);
        if (value.length >= 2) {
            value = value.substring(0, 2) + '/' + value.substring(2);
        }
        e.target.value = value;
    });
    
    // Contact form
    const contactForm = document.getElementById('contact-form');
    contactForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Simulate sending to backend
        showNotification('üìß Message sent to support team!');
        
        // Show success message
        document.getElementById('contact-form-container').style.display = 'none';
        document.getElementById('contact-success').style.display = 'block';
    });
    
    // Initialize ads rotation
    rotateSoftAds();
    setInterval(rotateSoftAds, 8000); // Rotate every 8 seconds
    
    // Campaign form
    const campaignForm = document.getElementById('campaign-form');
    campaignForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const name = document.getElementById('campaign-name').value;
        const source = document.getElementById('campaign-source').value;
        const budget = parseInt(document.getElementById('campaign-budget').value);
        const url = document.getElementById('campaign-url').value;
        
        // Content screening
        const screening = screenContent(name + ' ' + url);
        if (!screening.approved) {
            showNotification('üö´ ' + screening.reason, 'error');
            return;
        }
        
        // Create campaign
        const newCampaign = {
            id: Date.now(),
            name,
            source,
            budget,
            url,
            code: generateADLCode(source),
            status: 'active',
            clicks: 0,
            conversions: 0,
            revenue: 0,
            created: new Date().toISOString()
        };
        
        campaigns.push(newCampaign);
        renderCampaigns();
        updateTotals();
        closeModal('create-modal');
        campaignForm.reset();
        document.getElementById('adl-code-preview').style.display = 'none';
        
        showNotification('üéâ Campaign created successfully! Tracking is now active.');
    });
    
    // ADL code generation on source change
    document.getElementById('campaign-source').addEventListener('change', function() {
        const source = this.value;
        if (source) {
            const code = generateADLCode(source);
            document.getElementById('generated-adl-code').textContent = code;
            document.getElementById('adl-code-preview').style.display = 'block';
        } else {
            document.getElementById('adl-code-preview').style.display = 'none';
        }
    });
    
    // AI form
    const aiForm = document.getElementById('ai-form');
    aiForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        if (aiUsageCount >= TIER_LIMITS[userTier].ai) {
            showNotification('‚≠ê AI usage limit reached. Upgrade for unlimited access', 'error');
            showUpgrade();
            return;
        }
        
        const product = document.getElementById('ai-product').value;
        const keywords = document.getElementById('ai-keywords').value;
        const audience = document.getElementById('ai-audience').value;
        const offer = document.getElementById('ai-offer').value || 'Special Offer';
        
        // Content screening
        const screening = screenContent(product + ' ' + keywords);
        if (!screening.approved) {
            showNotification('üö´ ' + screening.reason, 'error');
            return;
        }
        
        aiUsageCount++;
        
        // Generate AI content
        const headlineTemplate = AI_TEMPLATES.headlines[Math.floor(Math.random() * AI_TEMPLATES.headlines.length)];
        const descriptionTemplate = AI_TEMPLATES.descriptions[Math.floor(Math.random() * AI_TEMPLATES.descriptions.length)];
        
        const headline = headlineTemplate
            .replace(/{product}/g, product)
            .replace(/{keywords}/g, keywords)
            .replace(/{audience}/g, audience)
            .replace(/{offer}/g, offer);
        
        const description = descriptionTemplate
            .replace(/{product}/g, product)
            .replace(/{keywords}/g, keywords)
            .replace(/{audience}/g, audience)
            .replace(/{offer}/g, offer);
        
        const adlCode = generateADLCode('AI');
        
        document.getElementById('ai-headline').textContent = headline;
        document.getElementById('ai-description').textContent = description;
        document.getElementById('ai-adl-code').textContent = adlCode;
        document.getElementById('ai-results').style.display = 'block';
        
        showNotification('ü§ñ High-converting ad copy generated!');
    });
    
    // Close modals on outside click
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('modal')) {
            e.target.classList.remove('show');
            document.body.style.overflow = 'auto';
        }
    });
    
    // Keyboard shortcuts
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey || e.metaKey) {
            switch(e.key) {
                case 'n':
                    e.preventDefault();
                    createCampaign();
                    break;
                case 'e':
                    e.preventDefault();
                    exportData();
                    break;
                case 'u':
                    e.preventDefault();
                    showUpgrade();
                    break;
            }
        }
        
        if (e.key === 'Escape') {
            document.querySelectorAll('.modal.show').forEach(modal => {
                modal.classList.remove('show');
                document.body.style.overflow = 'auto';
            });
        }
    });
});
</script>

</body>
</html>
